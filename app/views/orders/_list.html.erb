<div class="table-responsive">
  <table class="table table-striped table-condensed">
    <thead>
      <tr>
        <th><%= t '.customer' %></th>
        <th><%= t '.starters' %></th>
        <th><%= t '.main_courses' %></th>
        <th><%= t '.desserts' %></th>
        <th><%= t '.drinks' %></th>
        <th><%= t '.total_price' %></th>
        <th><%= t '.paid_at' %></th>
        <th><%= t '.ready_at' %></th>
        <th><%= t '.delivered_at' %></th>
      </tr>
    </thead>

    <tbody>
      <% orders.each do |order| %>
        <tr>
          <td>
            <%= order.decorate.user.name %>
          </td>
          <td>
            <% order.ordered_meals.at_timing(0).each do |ordered_meal| %>
              <p><%= ordered_meal.decorate %></p>
            <% end %>
          </td>
          <td>
            <% order.ordered_meals.at_timing(1).each do |ordered_meal| %>
              <p><%= ordered_meal.decorate %></p>
            <% end %>
          </td>
          <td>
            <% order.ordered_meals.at_timing(2).each do |ordered_meal| %>
              <p><%= ordered_meal.decorate %></p>
            <% end %>
          </td>
          <td>
            <% order.ordered_meals.at_timing(3).each do |ordered_meal| %>
              <p><%= ordered_meal.decorate %></p>
            <% end %>
          </td>
          <td class="text-right">
            <%= order.decorate.price %>
          </td>
          <td>
            <%= order.decorate.paid_at %>
          </td>
          <td>
            <% if order.ready_at.nil? %>
              <%= render 'orders/button_ready', order: order %>
            <% else %>
              <%= order.decorate.ready_at %>
            <% end %>
          </td>
          <td>
            <% if order.ready_at && order.delivered_at.nil? %>
              <%= render 'orders/button_delivered', order: order %>
            <% else %>
              <%= order.decorate.delivered_at %>
            <% end %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
